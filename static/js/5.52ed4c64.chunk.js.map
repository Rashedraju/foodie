{"version":3,"sources":["components/Form/SignupForm/SignupForm.module.scss","containers/Signup/Signup.module.scss","components/Form/SignupForm/SignupForm.js","containers/Signup/Signup.js"],"names":["module","exports","signupForm","props","formData","firstName","config","type","name","placeholder","label","lastName","email","password","initialValues","acceptedTerms","validationSchema","Yup","max","required","min","matches","oneOf","onSubmit","values","submit","formik","Form","handleSubmit","className","error","Alert","variant","style","marginBottom","errMsg","inputFields","Object","keys","forEach","key","item","Group","Control","getFieldProps","Label","styles","signupLabel","touched","errors","validation","push","formInput","Check","id","checkbox","custom","marginTop","Button","button","disabled","loading","Spinner","as","role","animation","size","connect","state","cartShow","cart","user","auth","dispatch","onToggleCartUI","bool","actions","redirectPath","history","useHistory","useState","setLoading","setError","useEffect","isAuthenticated","replace","signup","container","SignupForm","then","catch","err","message","right"],"mappings":"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","file":"static/js/5.52ed4c64.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"signupLabel\":\"SignupForm_signupLabel__1a62W LoginForm_label__2MipJ\",\"validation\":\"SignupForm_validation__3Rmoc LoginForm_validation__11Jex\",\"checkbox\":\"SignupForm_checkbox__rKyqT\",\"button\":\"SignupForm_button__H_wNm\",\"btn\":\"SignupForm_btn__NW3N3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"signup\":\"Signup_signup__efX6l\",\"container\":\"Signup_container__3J4Z_\",\"right\":\"Signup_right__3Xi6b\"};","import { Formik } from 'formik';\r\nimport React from 'react';\r\nimport { Alert, Button, Form, Spinner } from 'react-bootstrap';\r\nimport * as Yup from 'yup';\r\nimport styles from './SignupForm.module.scss';\r\n\r\nconst signupForm = (props) => {\r\n    const formData = {\r\n        firstName: {\r\n            config: {\r\n                type: 'text',\r\n                name: 'firstName',\r\n                placeholder: 'First Name',\r\n            },\r\n            label: 'First Name',\r\n        },\r\n        lastName: {\r\n            config: {\r\n                type: 'text',\r\n                name: 'lastName',\r\n                placeholder: 'Last Name',\r\n            },\r\n            label: 'Last Name',\r\n        },\r\n        email: {\r\n            config: {\r\n                type: 'email',\r\n                name: 'email',\r\n                placeholder: 'Email Address',\r\n            },\r\n            label: 'Email Address',\r\n        },\r\n        password: {\r\n            config: {\r\n                type: 'password',\r\n                name: 'password',\r\n                placeholder: 'Password',\r\n            },\r\n            label: 'Password',\r\n        },\r\n    };\r\n\r\n    const formInput = (formik) => {\r\n        const inputFields = [];\r\n        Object.keys(formData).forEach((key) => {\r\n            const item = (\r\n                <Form.Group key={key}>\r\n                    <Form.Control\r\n                        {...formData[key].config}\r\n                        className=\"w-md-75\"\r\n                        {...formik.getFieldProps(key)}\r\n                    />\r\n                    <Form.Label className={styles.signupLabel}> {formData[key].label} </Form.Label>\r\n\r\n                    {formik.touched[key] && formik.errors[key] ? (\r\n                        <small className={`${styles.validation} text-muted`}>\r\n                            <span className=\"text-danger\">* </span>\r\n                            {formik.errors[key]}\r\n                        </small>\r\n                    ) : (\r\n                        <span className=\"mb-3\">&nbsp;</span>\r\n                    )}\r\n                </Form.Group>\r\n            );\r\n            inputFields.push(item);\r\n        });\r\n        return inputFields;\r\n    };\r\n\r\n    return (\r\n        <Formik\r\n            initialValues={{\r\n                firstName: '',\r\n                lastName: '',\r\n                email: '',\r\n                password: '',\r\n                acceptedTerms: false,\r\n            }}\r\n            validationSchema={Yup.object({\r\n                firstName: Yup.string()\r\n                    .max(25, 'Must be 25 characters or less.')\r\n                    .required('First Name required.'),\r\n                lastName: Yup.string()\r\n                    .max(25, 'Must be 25 characters or less.')\r\n                    .required('Last Name required.'),\r\n                email: Yup.string().email('Invalid email address!').required('Email required.'),\r\n                password: Yup.string()\r\n                    .min(8, 'Password is too short - should be 8 chars minimum.')\r\n                    .matches(/[a-zA-Z]/, 'Password can only contain Latin letters.')\r\n                    .required('Password required.'),\r\n                acceptedTerms: Yup.boolean()\r\n                    .required('You must accept the terms and conditions.')\r\n                    .oneOf([true], 'You must accept the terms and conditions.'),\r\n            })}\r\n            onSubmit={(values) => props.submit(values)}\r\n        >\r\n            {(formik) => (\r\n                <Form onSubmit={formik.handleSubmit}>\r\n                    <h1 className=\"text-primary mb-5\"> Sign Up</h1>\r\n\r\n                    {/** show error */}\r\n                    {props.error && (\r\n                        <Alert variant=\"danger\" style={{ marginBottom: '2rem' }}>\r\n                            {props.errMsg}\r\n                        </Alert>\r\n                    )}\r\n\r\n                    {/* render all form innput */}\r\n                    {formInput(formik)}\r\n\r\n                    <Form.Group>\r\n                        <Form.Check\r\n                            type=\"checkbox\"\r\n                            name=\"acceptedTerms\"\r\n                            id=\"customControlInline\"\r\n                            label=\"I've read and agree with Terms of Service and our Privacy Policy\"\r\n                            className={`${styles.checkbox} ml-1 mb-4 w-md-75`}\r\n                            {...formik.getFieldProps('acceptedTerms')}\r\n                            custom\r\n                        />\r\n\r\n                        {formik.touched.acceptedTerms && formik.errors.acceptedTerms ? (\r\n                            <small\r\n                                className={`${styles.validation} text-muted`}\r\n                                style={{ marginTop: '-.5rem' }}\r\n                            >\r\n                                <span className=\"text-danger\">* </span>\r\n                                {formik.errors.acceptedTerms}\r\n                            </small>\r\n                        ) : (\r\n                            <span>&nbsp;</span>\r\n                        )}\r\n                    </Form.Group>\r\n\r\n                    <Button\r\n                        type=\"submit\"\r\n                        variant=\"primary\"\r\n                        className={`shadow-none ${styles.button}`}\r\n                        disabled={props.disabled}\r\n                    >\r\n                        {props.loading ? (\r\n                            <Spinner as=\"span\" role=\"status\" animation=\"border\" size=\"sm\" />\r\n                        ) : (\r\n                            'Signup'\r\n                        )}\r\n                    </Button>\r\n                </Form>\r\n            )}\r\n        </Formik>\r\n    );\r\n};\r\n\r\nexport default signupForm;\r\n","import { signup } from 'adapters/firebase';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\nimport SignupForm from '../../components/Form/SignupForm/SignupForm';\r\nimport * as actions from '../../store/actions';\r\nimport styles from './Signup.module.scss';\r\n\r\nconst Signup = (props) => {\r\n    const { redirectPath, onToggleCartUI, user } = props;\r\n\r\n    const history = useHistory();\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState();\r\n\r\n    useEffect(() => {\r\n        onToggleCartUI();\r\n        if (user.isAuthenticated) history.replace(redirectPath);\r\n    }, [history, onToggleCartUI, redirectPath, user.isAuthenticated]);\r\n\r\n    const handleSignup = ({ firstName, lastName, email, password }) => {\r\n        setLoading(true);\r\n        signup(firstName, lastName, email, password)\r\n            .then(() => {\r\n                setError(null);\r\n            })\r\n            .catch((err) => setError(err));\r\n        setLoading(false);\r\n    };\r\n\r\n    return (\r\n        <div className={styles.signup}>\r\n            <div className={`${styles.container} row`}>\r\n                <div className=\"signup__left col-md-6\">\r\n                    <SignupForm\r\n                        submit={handleSignup}\r\n                        disabled={loading}\r\n                        loading={loading}\r\n                        error={error}\r\n                        errMsg={error?.message}\r\n                    />\r\n                </div>\r\n                <div className={`${styles.right} col-md-6`} />\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n    cartShow: state.cart.cartShow,\r\n    user: state.auth.user,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n    onToggleCartUI: (bool) => dispatch(actions.toggleCartUI(bool)),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Signup);\r\n"],"sourceRoot":""}